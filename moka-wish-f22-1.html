<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta
      name="viewport"
      content="user-sclable=no, initial-scale=1, maximum-scale=1, minimum-scale-1, width=device-width"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="google" value="notranslate" />

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="aframe-troika-text.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autosize.js/4.0.2/autosize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="aframe-spe-particles-component.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
    <!--script src="jquery-3.3.1.js"></script-->
    <!--script src="font-awesome-5.13.0.js"></script-->
    <script src="merge-image.js"></script>
    <link rel="stylesheet" href="style-capture-t.css" />
    <script type="text/javascript">
      AFRAME.registerComponent("drag-rotate-component", {
        schema: { speed: { default: 1 } },
        init: function () {
          this.ifMouseDown = false;
          this.x_cord = 0;
          this.y_cord = 0;
          document.addEventListener(
            "mousedown",
            this.OnDocumentMouseDown.bind(this)
          );
          document.addEventListener(
            "mouseup",
            this.OnDocumentMouseUp.bind(this)
          );
          document.addEventListener(
            "mousemove",
            this.OnDocumentMouseMove.bind(this)
          );
        },
        OnDocumentMouseDown: function (event) {
          this.ifMouseDown = true;
          this.x_cord = event.clientX;
          this.y_cord = event.clientY;
        },
        OnDocumentMouseUp: function () {
          this.ifMouseDown = false;
        },
        OnDocumentMouseMove: function (event) {
          if (this.ifMouseDown) {
            var temp_x = event.clientX - this.x_cord;
            var temp_y = event.clientY - this.y_cord;
            if (Math.abs(temp_y) < Math.abs(temp_x)) {
              this.el.object3D.rotateY((temp_x * this.data.speed) / 1000);
            } else {
              this.el.object3D.rotateX((temp_y * this.data.speed) / 1000);
            }
            this.x_cord = event.clientX;
            this.y_cord = event.clientY;
          }
        },
      });
    </script>
    <!--script type="text/javascript">
    AFRAME.registerComponent('drag-rotate-component',{
      schema : { speed : {default:1}},
      init : function(){
        this.ifTouchStart = false;
        this.x_cord = 0;
        this.y_cord = 0;
        document.addEventListener('touchstart',this.OnDocumentTouchStart.bind(this));
        document.addEventListener('touchend',this.OnDocumentTouchEnd.bind(this));
        document.addEventListener('touchmove',this.OnDocumentTouchMove.bind(this));
      },
      OnDocumentTouchStart : function(event){
        this.ifTouchStart = true;
        this.x_cord = event.clientX;
        this.y_cord = event.clientY;
      },
      OnDocumentTouchEnd : function(){
        this.ifTouchStart = false;
      },
      OnDocumentTouchMove : function(event)
      {
        if(this.ifTouchStart)
        {
          var temp_x = event.clientX-this.x_cord;
          var temp_y = event.clientY-this.y_cord;
          if(Math.abs(temp_y)<Math.abs(temp_x))
          {
            this.el.object3D.rotateY(temp_x*this.data.speed/1000);
          }
          else
          {
            this.el.object3D.rotateX(temp_y*this.data.speed/1000);
          }
          this.x_cord = event.clientX;
          this.y_cord = event.clientY;
        }
      }
    });
  </script-->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const list = [
          "glasses1",
          "glasses2",
          "hat1",
          "hat2",
          "helmet",
          "helmet2",
        ];
        const visibles = [false, false, false, false, false, false];
        const setVisible = (button, entities, visible) => {
          if (visible) {
            button.classList.add("selected");
          } else {
            button.classList.remove("selected");
          }
          entities.forEach((entity) => {
            entity.setAttribute("visible", visible);
          });
        };
        list.forEach((item, index) => {
          const button = document.querySelector("#" + item);
          const entities = document.querySelectorAll("." + item + "-entity");
          setVisible(button, entities, visibles[index]);
          button.addEventListener("click", () => {
            visibles[index] = !visibles[index];
            setVisible(button, entities, visibles[index]);
          });
        });
      });
    </script>
    <script>
      /*  AFRAME.registerComponent("my-test-component", {
        tick: function () {
          var el = this.el;
          el.setAttribute("text", { value: "" });
        },
      }); */

      function ee() {
        document
          .getElementById("output")
          .setAttribute("value", document.getElementById("fname").value);
        document.getElementById("MsgZone").style.display = "none";
        $(".DecoButton").show();
        $(".capturebtn").show();
        $(".WriteButton").show();
      }
    </script>
    <script>
      // You can set the input as you want
      var inputeditable =
        '<textarea contenteditable="true" type="text" name="" class="input">';

      // For each DOM element that has .inputeditable, we add a click event, using inputeditableEnabled(). Which can be used anywhere
      $(".inputeditable").each(function () {
        inputeditableEnabled($(this));
      });

      // This function store the HTML, add child with input. When input lose focus, we push back the value of the input,
      // el is the dom object edited
      function inputeditableEnabled(el) {
        var contentWidth = el.width();
        var contentHeight = el.height();
        el.click(function () {
          var content = el.html().replace(/\n/g, "");
          el.html("").append(inputeditable);
          el.off("click");
          el.width(contentWidth).height(contentHeight);
          el.find(".input").val(content).focus();
          autosize(el.find(".input"));
          el.find(".input").focusout(function () {
            inputeditableDisabled(el, $(this));
          });
        });
      }

      // This function disable the edition of input. It change back the html of .inputeditable to plain text and remove the input
      // ,el is the editable dom object that need to be disabled
      // ,elInput is the input of said object
      function inputeditableDisabled(el, elInput) {
        if (!elInput) {
          elInput = el.find(".input");
        }
        var inputval = elInput.val();
        el.html(inputval);
        el.css({ width: "", height: "auto" });
        inputeditableEnabled(el);
      }

      // Every piece of code can be minified, but I chose not to, for editing purposes.
      // we use autoresize.js but it is not necessary if you have your own textarea resize. You can find the script here https://cdnjs.cloudflare.com/ajax/libs/autosize.js/4.0.2/autosize.min.js
      // if you want the text to be inline, use an input, no textarea
    </script>
    <!--script>
 var modal = document.querySelector(".modal");
// var trigger = document.querySelector(".trigger");
var closeButton = document.querySelector(".close-button");

function toggleModal() {
    modal.classList.toggle("show-modal");
}

function windowOnClick(event) {
    if (event.target === modal) {
        toggleModal();
    }
}

//trigger.addEventListener("click", toggleModal);
closeButton.addEventListener("click", toggleModal);
window.addEventListener("click", windowOnClick);

    </script-->

    <style>
      /* reset */
      body,
      p,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      ul,
      ol,
      li,
      dl,
      dt,
      dd,
      table,
      th,
      td,
      form,
      fieldset,
      legend,
      input,
      textarea,
      button,
      select {
        margin: 0;
        padding: 0;
      }
      body,
      input,
      textarea,
      select,
      button,
      table {
        font-family: ng, "Malgun Gothic", "맑은고딕", "Apple SD Gothic Neo",
          Dotum, "돋음", sans-serif;
        font-size: 14px;
        color: #282828;
        line-height: 1;
        letter-spacing: -0.5px;
        word-break: break-all;
      }
      img,
      fieldset {
        border: 0;
      }
      ul,
      ol {
        list-style: none;
      }
      em,
      address {
        font-style: normal;
      }
      a {
        text-decoration: none;
      }
      a:hover,
      a:active,
      a:focus {
        text-decoration: none;
      }
      table {
        width: 100%; /*border-collapse:collapse;*/
        border-spacing: 0;
      }
      label {
        vertical-align: middle;
      }
      textarea {
        resize: none;
      }
      fieldset,
      li,
      img {
        border: 0;
        vertical-align: top;
      }
      address,
      caption,
      em {
        font-style: normal;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-weight: normal;
      }
      button {
        overflow: visible;
        border: 0;
        /*outline:none;*/
        background-color: transparent;
        cursor: pointer;
      }
      button::-moz-focus-inner {
        padding: 0;
        border: 0;
      }
      .blind,
      legend {
        overflow: hidden;
        position: absolute;
        top: 0;
        left: 0;
        width: 1px;
        height: 1px;
        font-size: 1px;
        line-height: 100px;
        white-space: nowrap;
      }
      /* reset */

      .btn_com {
        background-color: #1c2087;
        color: #fff;
        border-radius: 6px 6px 6px 6px;
      }
      .ly_wrap {
        z-index: 50;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.8);
      }
      #layoutimg {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: -10;
      }
      .ly_box {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 81%;
        height: 70%;
        padding: 50px 20px 20px;
        background-color: #fff;
        background-size: auto 100%;
        background-repeat: no-repeat;
        /*
  background-image: url("https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/MYmessage10-1.png?v=1670487397403");
  */
        transform: translate(-50%, -50%);
        text-align: center;
      }

      .ly_box p {
        font-size: 20px;
      }
      .ly_box .btn_close {
        position: absolute;
        width: 35%;
        height: 50px;
        margin-top: 20px;
        background-color: #1c2087;
        top: 80%;
        left: 53%;
      }

      .ly_box .DecoButton_1 {
        position: absolute;
        color: white;
        width: 35%;
        height: 50px;
        margin-top: 20px;
        background-color: #1c2087;
        top: 80%;
        left: 15%;
      }

      .btn_popup {
        position: absolute;
        padding: 20px;
        left: 50%;
        height: 8%;
        width: 20%;
        top: 80%;
        z-index: 99999;
      }
      .container .btn_close {
        position: absolute;
        width: 100px;
        height: 50px;
        margin-top: 30px;
        background-color: #1c2087;
        top: 85%;
        left: 40%;
      }

      .btn_container {
        position: absolute;
        padding: 20px;
        width: 20%;
        height: 8%;
        left: 25%;
        top: 80%;
        z-index: 99999;
      }

      textarea {
        margin-top: 10%;
        margin-left: 0;
        width: 70%;
        height: 70%;
        -moz-border-bottom-colors: none;
        -moz-border-left-colors: none;
        -moz-border-right-colors: none;
        -moz-border-top-colors: none;
        background: none repeat scroll 0 0 rgba(0, 0, 0, 0.07);
        border-color: -moz-use-text-color #ffffff #ffffff -moz-use-text-color;
        border-image: none;
        border-radius: 6px 6px 6px 6px;
        border-style: none solid solid none;
        border-width: medium 1px 1px medium;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12) inset;
        color: #555555;
        font-family: "AppleSDGothicNeoM";
        font-size: 2em;
        line-height: 1.4em;
        padding: 5px 8px;
        transition: background-color 0.2s ease 0s;
        white-space: pre-wrap !important;
      }

      textarea:focus {
        background: none repeat scroll 0 0 #ffffff;
        outline-width: 0;
      }

      .container {
        z-index: 50;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.8);
      }
    </style>
    <style>
      /*
  The grid itself needs only 4 CSS declarations:
*/
      @media only screen and (max-width: 700px) {
        /*
        .myGallery {
          display: grid;
          grid-gap: 20px;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        }

        .myGallery img {
          width: 100%;
          height: 150px;
          border-radius: 10px;
        }
        */

        /*
  And here are some declarations for the image caption.
  Just hover over one of the last 5 images to see it.
*/

        .myGallery .item {
          position: relative;
          overflow: hidden;
        }

        .myGallery .item img {
          vertical-align: middle;
          border-radius: 10px;
        }

        .myGallery .caption {
          margin: 0;
          padding: 1em;
          position: absolute;
          z-index: 1;
          bottom: 0;
          left: 0;
          width: 100%;
          max-height: 100%;
          overflow: auto;
          box-sizing: border-box;
          transition: transform 0.5s;
          transform: translateY(100%);
          background: rgba(0, 0, 0, 0.7);
          color: rgb(255, 255, 255);
        }

        .myGallery .item:hover .caption {
          transform: translateY(0%);
        }

        .box-1 {
          margin: 0;
          width: 100%;
          height: 10%;
          background: url("https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/%EB%84%9D%EC%BF%A8%EB%AC%B4%EB%8A%AC%EC%A0%84%EB%8F%8C.png?v=1692611017011");
          background-position: center;
          background-repeat: no-repeat;
          background-size: contain;
          justify-content: center;
          align-items: center;
        }
      }

      .myGallery {
        display: grid;
        grid-gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }
      .myGallery img {
        border: solid 10px;
        width: 100%;
        height: 120px;
        border-radius: 10px;
        object-fit: cover;
        cursor: pointer;
      }
      .myGallery img.selected {
        border-color: green;
      }

      .HomeButton {
        background-color: transparent;
        background-image: url("https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/%EB%92%A4%EB%A1%9C%EA%B0%80%EA%B8%B0.png?v=1672667294936");
        background-size: cover;
        background-position: center;
        border: none;
        padding: 5px;
        display: inline-block;
        margin: 1px 1px;
        cursor: pointer;
        border-radius: 50%;
        position: fixed;
        top: 1%;
        left: 1%;
        width: 65px;
        height: 65px;
        /*display: flex;*/
        justify-content: center;
        align-items: center;
        z-index: 99999;
        transition: all 0.5s;
        cursor: pointer;
      }
      .HomeButton:hover {
        background-color: Gold;
      }
      .WriteButton {
        background-color: transparent;
        background-image: url("https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/%ED%8E%B8%EC%A7%80%EC%93%B0%EA%B8%B0.png?v=1672667303909");
        background-size: cover;
        background-position: center;
        border: none;
        padding: 5px;
        display: inline-block;
        margin: 1px 1px;
        cursor: pointer;
        border-radius: 50%;
        position: fixed;
        top: 90%;
        left: 82%;
        width: 65px;
        height: 65px;
        /*display: flex;*/
        justify-content: center;
        align-items: center;
        z-index: 99999;
        transition: all 0.5s;
        cursor: pointer;
        display: none;
      }
      .WriteButton:hover {
        background-color: Gold;
      }
      .DecoButton {
        background-color: transparent;
        background-image: url("https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/%EC%8A%A4%ED%8B%B0%EC%BB%A4.png?v=1672667296489");
        background-size: cover;
        background-position: center;
        border: none;
        padding: 5px;
        display: inline-block;
        margin: 1px 1px;
        cursor: pointer;
        border-radius: 50%;
        position: fixed;
        top: 90%;
        left: 65%;
        width: 65px;
        height: 65px;
        /*display: flex;*/
        justify-content: center;
        align-items: center;
        z-index: 99999;
        transition: all 0.5s;
        cursor: pointer;
        display: none;
      }
      .DecoButton:hover {
        background-color: Gold;
      }

      .DecoButton_container {
        position: absolute;
        padding: 20px;
        width: 20%;
        height: 8%;
        left: 25%;
        top: 80%;
        z-index: 99999;
      }

      .is-visible .bts-popup-container {
        -webkit-transform: translateY(0);
        -moz-transform: translateY(0);
        -ms-transform: translateY(0);
        -o-transform: translateY(0);
        transform: translateY(0);
      }
      /*   
      .myGallery {
        position: fixed;
        left: 0px;
        top: 150px;
        z-index: 2;
      }
      .myGallery img {
        border: solid 2px;
        width: 100px;
        height: 100px;
        object-fit: cover;
        cursor: pointer;
      }
      .myGallery img.selected {
        border-color: green;
      }
      */
      #stampMsg {
        position: absolute;

        left: 20%;
        top: 20%;
        width: 55%;

        display: none;
      }
    </style>

    <style>
      table,
      th,
      td {
        border: solid 0px #000;
        padding: 10px;
      }

      table {
        border-collapse: collapse;
      }
    </style>
    <style>
      .material-icons {
        font-family: "Material Icons";
        font-weight: normal;
        font-style: normal;
        font-size: 24px; /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;

        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;

        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;

        /* Support for IE. */
        font-feature-settings: "liga";
      }

      header {
        padding: 15px;
      }
      section {
        width: 100%;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .tooltip-container {
        position: relative;
        &:hover {
          .tooltip-content {
            visibility: visible;
            opacity: 1;
            transition: 0.25s all ease;
            transition-delay: 0s;
            top: -125px;
          }
        }
      }
      .tooltip-content {
        visibility: hidden;
        opacity: 0;
        position: absolute;
        background: #000000;
        left: -38px;
        top: -130px;
        padding: 0 15px;
        margin: 16px;
        font-size: 15px;
        width: 250px;
        transition: 0.25s all ease;
        transition-delay: 0.25s;
        z-index: 2;
        color: #ffffff;
        .align-right {
          text-align: right;
          a {
            color: red;
            text-decoration: none;
            &:hover {
              text-decoration: underline;
            }
          }
        }
        &:after {
        }
      }
    </style>
    
  </head>
  <body>
    <!--section>
      <div class="tooltip-container">
        <i class="info-icon material-icons">info</i>
        <div class="tooltip-content">
          <p>This panel displays a summary of relevant information.</p>
          <p class="align-right">
            <a href="https://google.com" target="_blank">Read More</a>
          </p>
        </div>
      </div>
    </section-->
    <!--button
      class="HomeButton"
      id="home-btn"
      onclick="window.open('https://abc-portal.glitch.me/letter-1.html','_self');"
    ></button>
<button id="w-popup" type="button" class="WriteButton btn_popup" role="alert"></button>
<button type="button" class="DecoButton btn_container"></button-->

    <!--div class="ly_wrap" id="MsgZone">
  <div class="ly_box" id="ly_box">
  <img id="layoutimg" src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/%EB%84%9D%EC%BF%A8%EB%AC%B4%EB%8A%AC%EC%A0%84%EB%8F%8C.png?v=1692611017011">
      <!--textarea placeholder="여기에 사연을 적으세요." rows="20" name="comment[text]" id="fname" cols="40" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true"></textarea-->
    <!--textarea placeholder="여기에 소원을 적으세요" maxlength="150" rows="15" name="comment[text]" id="fname" row="3" cols="20" wrap="hard" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true"></textarea>

   
    <table>
	<tbody>
      <tr>
        <th><button type="button" onclick="$('.container').show();" class="DecoButton_1 btn_com"><h3>편지지 꾸미기</h3></button></th>
        <th><button type="button" onclick="ee()" class="btn_close btn_com" id="Close"><h3>작성완료</h3></button></th>     
      </tr>
  </tbody>
</table>
  </div>
  </div-->

    <!--div class="container" id="sticker" style="display:none">
   <p>&nbsp</p>
      <div class="box-1"></div>
      <p>나만의 스티커를 골라 소원지를 꾸미세요.</p>
      <h1>스티커 고르기</h1>
      <div class="myGallery">
          <img
            id="hat1"
            src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yhm.png?v=1692627402752"
          />
          <img
            id="hat2"
            src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/sumakse.png?v=1692627408734"
          />
          <img
            id="glasses1"
            src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/bitjub.png?v=1692627405215"
          />
          <img
            id="glasses2"
            src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yhm-c.png?v=1692627404225"
          />

          <img
            id="helmet"
            src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yhm-a.png?v=1692627407791"
          />
          <img
            id="helmet2"
            src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yhm-b.gif?v=1692627406560"
          />
        <p> <button type="button" class="btn_close btn_com" id="DecoClose"><h3>선택완료</h3></button></p>   
      </div>
        
    </div-->
    <a-scene
      vr-mode-ui="enabled: false"
      loading-screen="enabled: false"
      device-orientation-permission-ui="enabled: false"
      renderer="antialias: true; logarithmicDepthBuffer: true; colorManagement: true; sortObjects: true;"
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
    >
      <!--a-entity camera="active: true" look-controls wasd-controls position="0 0 5" data-aframe-default-camera></a-entity-->
      <!-- CAMERA -->
      <a-asset>
        <audio
          id="button0"
          src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/%EB%B0%98%EC%95%BC%EC%8B%AC%EA%B2%BD.mp3?v=1693276774799"
          crossorigin="anonymous"
        ></audio>
        <img
          id="glow"
          src="https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/glow.png?v=1672756163242"
        />
      </a-asset>

      <a-entity id="rig">
        <a-entity
          camera
          position="0 1.6 0"
          look-controls-enabled="false"
          
        ></a-entity>
<a-entity 
          animation="startEvents: click; property: rotation; from: 0 0 0; to: 0 360 0; dur: 8000; loop: true"
          sound="src: #button0; on: click; poolSize: 3"
>  </a-entity>
        <a-cylinder
          position="0 1.5 -5"
          radius="1.5"
          height="1.5"
          src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yjd-original-c.jpg?v=1694703149068"
          segments-radial="8"
          opacity="0.9"
          shadow="receive: false"
          animation="startEvents: click; property: rotation; to: 0 360 0; dur: 8000; loop: true"
          sound="src: #button0; on: click; poolSize: 3"

        >
        </a-cylinder>
        <a-cone
          position="0 2.4 -5"
          rotation="0 0 180"
          src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yjd-original-top-c.png?v=1694710284088"
          height="0.5"
          segments-radial="8"
          radius-bottom="2.5"
          radius-top="0.9"
        ></a-cone>
        <a-cone
          position="0 0.2 -5"
          rotation="0 0 180"
          src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yjd-original-bottom-c.jpg?v=1694709847221"
          segments-radial="8"
          radius-bottom="1.7"
          radius-top="0.7"
        ></a-cone>
              <a-plane
          height="2" width="0.2"
          src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yjd-handy.png?v=1694591454647"
          position="-1.9 0.5 -4.8"
          rotation="0 0 90"
        ></a-plane>
                      <a-plane
          height="2" width="0.2"
          src="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/yjd-handy.png?v=1694591454647"
          position="1.9 0.5 -4.8"
          rotation="0 0 90"
        ></a-plane>
  
                        <a-troika-text
          id="output"
          position="0 -0.4 -2.6"
          color="#fff"
          max-width="13"
          max-height="50"
          curve-radius="0"
          scale="0.5 0.4 0.4"
          font="https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/AppleSDGothicNeoM.ttf?v=1671085239370"
          value="        
              윤장대는 경전을 넣은 책장에                     
축을 달아 회전하도록 만든 것으로,
이것을 돌리기만 하면 경전을 읽지 않아도                   
공덕을 쌓을 수 있다고 한다."
          align="center"
          animation="property: position; to: 0 1 -2.7; delay: 10000; dur: 7000; easing: linear; loop: false"
          animation__1="property: scale; to: 0 0 0; delay: 35000; dur: 500; easing: linear; loop: false"
        >
        </a-troika-text>
              <a-image
          src="https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/message-thanks-white-r.png?v=1671948199992"
          position="0 1 -2.8"
          material="color: #3F2D81; opacity: 0.5; transparent: true"
          scale="0 0 0"
          animation="property: scale; to: 2 0.7 0.1; delay: 10000; dur: 1100; easing: linear; loop: false"
          animation__1="property: scale; to: 0 0 0; delay: 35000; dur: 1000; easing: linear; loop: false"
        ></a-image>
        <!-- STAGE -->
        <a-entity
          id="stage"
          animation__3="startEvents: click; property: position; to: 0.1 5.57 -0.3; delay: 500; dur: 3000; loop: false"
        >

          <!--a-entity
            scale="0.15 0.15 0.15"
            position="0 -8 -0.3"
            rotation="0 0 0"
            visible="true"
            gltf-model="https://cdn.glitch.global/7aef11f6-e1ff-4444-833f-2588de98f4e6/8-animated-butterflies.glb?v=1692771856899"
            shadow="receive: false"
            animation-mixer
            animation="property: object3D.rotation.y; to: 180; delay: 5500; dur: 5000; easing: easeInOutQuad; dir: alternate; loop: false;"
            animation__2="property: position; to: 0 1.4 -0.55; delay: 500; dur: 3000; loop: false"
          >
          </a-entity-->


          <a-entity>
            <a-troika-text
              id="output1"
              position="0 1.8 -1.8"
              color="#fff"
              max-width="5"
              curve-radius="40"
              scale="1 1 1"
              font="https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/%ED%96%89%EB%B3%B5%EA%B3%A0%ED%9D%A5B.ttf?v=1658800506733"
              value="윤장대를 터치해서 
경전을 돌려보세요"
            ></a-troika-text>

          </a-entity>


          <a-entity cursor="rayOrigin:mouse"></a-entity>
 
          <a-light type="ambient" intensity="1"></a-light>
        </a-entity>
      </a-entity>
    </a-scene>
    <!--div class="helmet2-entity">
      <img id="stampMsg" />
    </div-->
    <button
      class="capturebtn"
      id="capture"
      style="vertical-align: middle"
    ></button>
    <button class="savebtn" id="save" style="vertical-align: middle"></button>
    <!-- The Modal -->
    <div id="myModal" class="modal" align="center">
      <!-- Modal content -->
      <div>
        <img class="modal-content" id="img01" />
        <span class="closebtn">
          <img
            src="https://cdn.glitch.global/3d3ecbaf-67a2-4d22-b8ec-ad23b8be5288/close-white.png?v=1670812239754"
            width="30px"
            height="30px"
          />
        </span>
        <div id="caption"></div>
      </div>
    </div>

    <script type="text/javascript" src="hmodal_active.js"></script>
    <script type="text/javascript" src="capture-1.js"></script>
    <script>
      var move2 = document.querySelector("#move2");
      var ballanim = document.querySelector("#ballanim");
      var acy = document.querySelector("a-cylinder");
      var mybox = document.querySelector("#mybox");

      move2.addEventListener("animationend", function () {
        console.log("end1");
        acy.emit("startcyl");
        // mybox.emit('startbox');
      });
      console.log(ballanim);
      acy.addEventListener("startcyl", function () {
        console.log("end2");
        mybox.emit("startbox");
      });
    </script>
  <script>
    var currentEvent;
    
    window.addEventListener('load', function() {
                // you can access the THREE.Light object from the shadow-light element
      var lightEl = document.querySelector('a-shadow-light');
      console.log(lightEl.shadowLight);
      currentEvent = "null";
    });
    
    
     document.getElementById("start_btn").addEventListener("click", function() {
      
        var Start_Area = document.getElementById("start_area");
        var PlayBtn = document.getElementById("start_btn");
        this.aud = document.querySelector("#aud");
 
        this.aud.play();   
       
        currentEvent = "click";
        document.getElementById("guebul").dispatchEvent(new CustomEvent(currentEvent));
          
        Start_Area.parentNode.removeChild(Start_Area);
  
      });
  </script>
    <!--script>
      $(".btn_popup").click(function () {
        $(".ly_wrap").show();
        $(".DecoButton").hide();
        $(".capturebtn").hide();
        $(".WriteButton").hide();
      });

      $(".btn_container").click(function () {
        $(".container").show();
        $(".DecoButton").hide();
        $(".capturebtn").hide();
        $(".WriteButton").hide();
      });
      $("#DecoClose").click(function () {
        $(".container").hide();
        var tt = document.getElementById("MsgZone");
        if (tt.style.display == "none") {
          $(".DecoButton").show();
          $(".capturebtn").show();
          $(".WriteButton").show();
        } else {
          $(".DecoButton").hide();
          $(".capturebtn").hide();
          $(".WriteButton").hide();
        }
      });
    </script-->
    
  </body>
</html>
