<!DOCTYPE html>
<!-- Selection in desktop.
   Click, mouseenter and mouseleave on objects with the corresponding
   animations, activated with the desktop mouse.
   Thanks to 'cursor="rayOrigin:mouse"' in the scene.
-->

<html>
  <head>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow
        animation="startEvents: click; property: position;
          from: -1 1.5 -3; to: -1 0.5 -3 dur: 1000">
      </a-box>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E" shadow
        animation="startEvents: click; property: scale;
          from: 2 2 2; to: 1 1 1; dur: 1000">
      </a-sphere>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" shadow
        animation__enter="startEvents: mouseenter; property: scale;
          to: 2 2 2; dur: 1000"
        animation__leave="startEvents: mouseleave; property: scale;
          to: 1 1 1; dur: 1000">
      </a-cylinder>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" shadow></a-plane>
      <a-sky color="#ECECEC"></a-sky>

      <a-entity cursor="rayOrigin:mouse"></a-entity>
    </a-scene>
    <script>
    var move2 = document.querySelector('#move2');
var ballanim = document.querySelector('#ballanim');
var acy = document.querySelector('a-cylinder');
var mybox = document.querySelector('#mybox');

move2.addEventListener('animationend', function(){
  console.log('end1');
  acy.emit('startcyl');
  // mybox.emit('startbox');
});
console.log(ballanim);
acy.addEventListener('startcyl', function(){
  console.log('end2');
  mybox.emit('startbox');
})


    </script>
  </body>
</html>